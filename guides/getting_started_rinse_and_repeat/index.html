<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Getting Started: Rinse and Repeat &#183; Arquillian Guides</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Part 2 of the Getting Started guide. Review your progress by exploring into a slightly more complex example and learn how to use remote containers." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="guide">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li class="active"><a href="/guides/">Guides</a></li>
              <li><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/code/">Code</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
  <div id="content-header">
    <div class="container">
      <div class="headline">
        <h1>
          <a href="/guides/">Arquillian Guides</a>
          <small>Designed exclusively to teach you how to use Arquillian to write real tests.</small>
        </h1>
        <div class="directory">
          <a class="guides_menu" href="./" id="guides_menu">
            Guides Index
            <i class="icon-menu-closed"></i>
          </a>
          <div id="guides" style="display: none">
            <a class="guides_menu" href="./">
              Guides Index
              <i class="icon-menu-open"></i>
            </a>
            <hr class="clear" />
            <dl class="beg">
              <dt>First Steps</dt>
              <dd><a href="/guides/getting_started/">Getting Started</a>
              <br />
              <a href="/guides/getting_started/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
              <a href="/guides/getting_started_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
              <a href="/guides/getting_started_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
              <a href="/guides/getting_started_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
              <a href="/guides/getting_started_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
              <a href="/guides/getting_started_nl/"><img class="flag" rel="tooltip" src="/images/flags/nl.png" title="Nederlands (nl)" /></a>
              <a href="/guides/getting_started_pl/"><img class="flag" rel="tooltip" src="/images/flags/pl.png" title="Polski (pl)" /></a>
              <a href="/guides/getting_started_pt/"><img class="flag" rel="tooltip" src="/images/flags/pt.png" title="Português (pt)" /></a>
              <a href="/guides/getting_started_sv_se/"><img class="flag" rel="tooltip" src="/images/flags/sv_se.png" title="Svenska (sv_se)" /></a>
              <a href="/guides/getting_started_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
              <dd><a href="/guides/getting_started_rinse_and_repeat/">Getting Started: Rinse and Repeat</a>
              <br />
              <a href="/guides/getting_started_rinse_and_repeat/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
              <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
              <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
              <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
              <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
              <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
              <dd><a href="/guides/get_started_faster_with_forge/">Get Started Faster with Forge</a>
              <br />
              <a href="/guides/get_started_faster_with_forge/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
              <a href="/guides/get_started_faster_with_forge_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
              <a href="/guides/get_started_faster_with_forge_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
              <a href="/guides/get_started_faster_with_forge_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a></dd>
              <dd><a href="/guides/shrinkwrap_introduction/">Creating Deployable Archives with ShrinkWrap</a></dd>
            </dl>
            <dl class="int">
              <dt>More Coverage</dt>
              <dd><a href="/guides/testing_java_persistence/">Testing Java Persistence</a>
              <br />
              <a href="/guides/testing_java_persistence/"><img class="flag" rel="tooltip" src="/images/flags/en.png" title="English (en)" /></a>
              <a href="/guides/testing_java_persistence_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a></dd>
              <dd><a href="/guides/functional_testing_using_drone/">Functional Testing using Drone</a></dd>
            </dl>
            <dl class="adv">
              <dt>Enhance</dt>
              <dd><a href="/guides/testing_in_the_cloud/">Testing in the Cloud</a></dd>
            </dl>
            <dl class="ref">
              <dt>Reference</dt>
              <dd><a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Reference Guide</a></dd>
              <dd><a href="http://docs.jboss.org/arquillian/api/latest">API Docs</a>,
              <a href="http://docs.jboss.org/arquillian/spi/latest">SPI Docs</a></dd>
              <dd><a href="http://community.jboss.org/wiki/ArquillianMigrationGuides">Migration Guides</a></dd>
              <dd><a href="http://community.jboss.org/en/arquillian/faq">FAQs</a></dd>
            </dl>
          </div>
        </div>
        <script>$(function() { activateGuideMenuControl() })</script>
      </div>
    </div>
  </div>
  <div class="container" id="guide">
    <div id="content">
            <div class="header">
              <div class="header">
              <h2>Getting Started: Rinse and Repeat</h2>
              <div class="authors"><strong>Author:</strong>
   <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a>
  <strong style="padding-left: 10px;">Translations:</strong>
  <a href="/guides/getting_started_rinse_and_repeat_de/"><img class="flag" rel="tooltip" src="/images/flags/de.png" title="Deutsch (de)" /></a>
  <a href="/guides/getting_started_rinse_and_repeat_es/"><img class="flag" rel="tooltip" src="/images/flags/es.png" title="Español (es)" /></a>
  <a href="/guides/getting_started_rinse_and_repeat_fr/"><img class="flag" rel="tooltip" src="/images/flags/fr.png" title="Française (fr)" /></a>
  <a href="/guides/getting_started_rinse_and_repeat_ja/"><img class="flag" rel="tooltip" src="/images/flags/ja.png" title="日本 (ja)" /></a>
  <a href="/guides/getting_started_rinse_and_repeat_zh_cn/"><img class="flag" rel="tooltip" src="/images/flags/zh_cn.png" title="简体中文 (zh_cn)" /></a>
  <br />
  <strong>Level:</strong>
   First Steps
  <strong style="padding-left: 10px;">Last Update:</strong> May 24, 2012</div>
              <p>In this follow-up to the <a href="/guides/getting_started">Getting Started</a> guide, you&#8217;ll have a chance to review what you&#8217;ve learned about Arquillian by exploring a slightly more complex example. After reading this guide, you&#8217;ll be able to:</p>
              <ul>
	<li>Write an Arquillian test that uses <acronym title="Contexts and Dependency Injection">CDI</acronym> and <acronym title="Enterprise JavaBeans">EJB</acronym> working together</li>
	<li>Execute an Arquillian test in a remote container</li>
	<li>Debug an Arquillian test inside a remote container</li>
</ul>
              <p>As part of learning these skills, you&#8217;ll be adding additional Maven profiles to your build. When activated, these profiles will get Arquillian to run the tests in a remote container (i.e., application server). That means you&#8217;ll be testing the <em>real deal</em>. No mocks. Not even embedded runtimes! And since you&#8217;ve done most of the hard work in the first guide, it won&#8217;t take long to get there.</p>
              </div>
              </div>
            <h3 id="assumptions">Assumptions</h3>
<p>This guide assumes you have added the Arquillian infrastructure to your project and have written and executed at least one Arquillian test. If you haven&#8217;t yet, please read the <a href="/guides/getting_started">Getting Started</a> guide to become familiar with the basics of Arquillian. You&#8217;ll also need the prerequisite software mentioned in that guide.</p>
<h3 id="create_the_components">Create the Components</h3>
<p>In this guide, we&#8217;ll be creating a very basic backend for a shopping application. We&#8217;ll use a basket component to store the visitor&#8217;s selected items and an order repository component to store and retrieve placed orders. We&#8217;ll implement these components using CDI and EJB, respectively. We can immediately start using these two programming models since we already have the Java EE 6 API on the classpath. (Refer to the <a href="/guides/getting_started">Getting Started</a> guide for instructions on how to add this API to your project).</p>
<p>Let&#8217;s start with the component that moves the orders to and from persistent storage. Following good software design, and to simplify testing, we&#8217;ll begin by defining an interface that defines the contract. In your IDE, create a new local EJB interface named <code>OrderRepository</code> and populate it with the following contents:</p>
<div class="filename">src/main/java/org/arquillian/example/OrderRepository.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.List;&#x000A;import javax.ejb.Local;</code>&#x000A;&#x000A;<code class="prettify">@Local&#x000A;public interface OrderRepository {&#x000A;    void addOrder(List&lt;String&gt; order);&#x000A;    List&lt;List&lt;String&gt;&gt; getOrders();&#x000A;    int getOrderCount();&#x000A;}</code></pre>
<p>We&#8217;ll worry about the implementation a bit later. Let&#8217;s skip to how we are going to use this contract.</p>
<p>As visitors browse the site, they&#8217;ll put items in their baskets to purchase. To model this scenario, we&#8217;ll use a CDI bean that is associated with the visitor&#8217;s HTTP session. This component will then delegate to the <code>OrderRepository</code> EJB when the visitor wants to purchase the selected items.</p>
<p>In your IDE, create a class named <code>Basket</code> and bind it to the session context by adding the scope annotation <code>@SessionScoped</code>, as shown below:</p>
<div class="filename">src/main/java/org/arquillian/example/Basket.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.io.Serializable;&#x000A;import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.EJB;&#x000A;import javax.enterprise.context.SessionScoped;</code>&#x000A;&#x000A;<code class="prettify">@SessionScoped&#x000A;public class Basket implements Serializable {&#x000A;    private static final long serialVersionUID = 1L;&#x000A;    private List&lt;String&gt; items;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    private OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    public void addItem(String item) {&#x000A;        items.add(item);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public List&lt;String&gt; getItems() {&#x000A;        return Collections.unmodifiableList(items);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public int getItemCount() {&#x000A;        return items.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    public void placeOrder() {&#x000A;        repo.addOrder(items);&#x000A;        items.clear();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        items = new ArrayList&lt;String&gt;();&#x000A;    }&#x000A;}</code></pre>
<p>As you can see, we are wiring EJB to a CDI bean, precisely the integration we want to test!</p>
<h3 id="implement_in_phases">Implement in Phases</h3>
<p>We aren&#8217;t quite ready to write a test because we don&#8217;t have an implementation of the <code>OrderRepository</code> yet.</p>
<p>For the purpose of this example, let&#8217;s assume that the <code>OrderRepository</code> is being implemented by another team (or in another iteration). Here&#8217;s where the micro-deployment feature of Arquillian really stands out. We can create an in-memory implementation as an EJB singleton and bundle it in the test archive to get a working application in the short term. (We may even decide to keep this implementation for the purpose of testing this boundary).</p>
<p>Create the class <code>SingletonOrderRepository</code> in your <em>test classpath</em> and populate it with the code shown below:</p>
<div class="filename">src/test/java/org/arquillian/example/SingletonOrderRepository.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import java.util.ArrayList;&#x000A;import java.util.Collections;&#x000A;import java.util.List;</code>&#x000A;&#x000A;<code class="prettify">import javax.annotation.PostConstruct;&#x000A;import javax.ejb.Lock;&#x000A;import javax.ejb.LockType;&#x000A;import javax.ejb.Singleton;</code>&#x000A;&#x000A;<code class="prettify">@Singleton&#x000A;@Lock(LockType.READ)&#x000A;public class SingletonOrderRepository implements OrderRepository {&#x000A;    private List&lt;List&lt;String&gt;&gt; orders;</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    @Lock(LockType.WRITE)&#x000A;    public void addOrder(List&lt;String&gt; order) {&#x000A;        orders.add(order);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public List&lt;List&lt;String&gt;&gt; getOrders() {&#x000A;        return Collections.unmodifiableList(orders);&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Override&#x000A;    public int getOrderCount() {&#x000A;        return orders.size();&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @PostConstruct&#x000A;    void initialize() {&#x000A;        orders = new ArrayList&lt;List&lt;String&gt;&gt;();&#x000A;    }&#x000A;}</code></pre>
<p>The added bonus of this implementation is that we get a chance to play around with the new singleton feature of EJB 3.1 in an Arquillian sandbox. That&#8217;s why we like to say that Arquillian is a learning environment in addition to being a testing tool.</p>
<p>Now we are ready to write the Arquillian test.</p>
<h3 id="write_a_test">Write a Test</h3>
<p>We are now going to write a test that simulates adding items to an instance of <code>Basket</code>, uses that instance to place an order and then validates the order is processed and stored into the single <code>OrderRepository</code> instance.</p>
<p class="info"><span>Of course, we will only be testing the in-memory implementation. You&#8217;ll learn how to write a test that uses a database in the <a href="/guides/testing_java_persistence">Testing Java Persistence</a> guide. You can then revisit this guide and flesh out the JPA implementation.</span></p>
<p>Create the class <code>BasketTest</code> and annotate it with <code>@RunWith(Arquillian.class)</code> to make it an Arquillian test:</p>
<div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;}</code></pre>
<p>Next we&#8217;ll define a test archive that includes the basket, the order repository interface and its singleton implementation. We also need an empty beans.xml file to active CDI (EJB is automatically activated). Notice how we have complete control over the classpath by explicitly defining what goes into the archive.</p>
<div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }&#x000A;}</code></pre>
<p>All that&#8217;s left is to inject the basket and order repository into the test case and test their interaction. We&#8217;ll be injecting the EJB interface, not the implementation. The EJB container will automatically find the implementation of the interface to use.</p>
<p>By default in JUnit, <code>@Test</code> methods are executed in a non-determinant order. Arquillian&#8217;s JUnit integration provides an <code>@InSequence</code> annotation that can be used to set an explicit order of execution. We&#8217;ll use <code>@InSequence</code> in this test case to place two orders in the first test method, then ensure the repository still contains those two items in the second test method.</p>
<div class="filename">src/test/java/org/arquillian/example/BasketTest.java</div>
<pre class="prettify"><code class="prettify">package org.arquillian.example;</code>&#x000A;&#x000A;<code class="prettify">import javax.ejb.EJB;&#x000A;import javax.inject.Inject;</code>&#x000A;&#x000A;<code class="prettify">import org.jboss.arquillian.container.test.api.Deployment;&#x000A;import org.jboss.arquillian.junit.Arquillian;&#x000A;import org.jboss.arquillian.junit.InSequence;&#x000A;import org.jboss.shrinkwrap.api.ShrinkWrap;&#x000A;import org.jboss.shrinkwrap.api.asset.EmptyAsset;&#x000A;import org.jboss.shrinkwrap.api.spec.JavaArchive;&#x000A;import org.junit.Assert;&#x000A;import org.junit.Test;&#x000A;import org.junit.runner.RunWith;</code>&#x000A;&#x000A;<code class="prettify">@RunWith(Arquillian.class)&#x000A;public class BasketTest {&#x000A;    @Deployment&#x000A;    public static JavaArchive createDeployment() {&#x000A;        return ShrinkWrap.create(JavaArchive.class, "test.jar")&#x000A;            .addClasses(Basket.class, OrderRepository.class, SingletonOrderRepository.class)&#x000A;            .addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    Basket basket;</code>&#x000A;    &#x000A;<code class="prettify">    @EJB&#x000A;    OrderRepository repo;</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    @InSequence(1)&#x000A;    public void place_order_should_add_order() {&#x000A;        basket.addItem("sunglasses");&#x000A;        basket.addItem("suit");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(1, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());</code>&#x000A;        &#x000A;<code class="prettify">        basket.addItem("raygun");&#x000A;        basket.addItem("spaceship");&#x000A;        basket.placeOrder();&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;        Assert.assertEquals(0, basket.getItemCount());&#x000A;    }</code>&#x000A;    &#x000A;<code class="prettify">    @Test&#x000A;    @InSequence(2)&#x000A;    public void order_should_be_persistent() {&#x000A;        Assert.assertEquals(2, repo.getOrderCount());&#x000A;    }&#x000A;}</code></pre>
<p>The test is written. Now we need to get setup to run it.</p>
<h3 id="add_the_remote_containers">Add the Remote Containers</h3>
<p>The test we&#8217;ve written uses both CDI and EJB. That combination pushes the boundaries of what an embedded runtime (like Weld Embedded or OpenEJB Embedded) can provide. It&#8217;s simpler to use a compliant Java EE container anyway. Plus, it gives us more accurate test results. So we&#8217;ll leave the embedded containers behind for now.</p>
<p>In the previous guide, we used both embedded and managed containers. In both cases, Arquillian must start the container when the test suite begins and stop it when the tests are finished. What if you already have a container started (or you are willing to start one for the purpose of testing)? That&#8217;s obviously going to be the fastest way to run the tests. Even if the container starts very fast, nothing beats no startup at all.</p>
<p>Remote containers provide an ideal development environment for integration testing. They also make debugging the test very straightforward, as you&#8217;ll see later. Since there is no reference to the container in the test, using a remote container during development does not prevent you from using a managed container for continous integration. In fact, managed containers are best suited for continuous integration environments.</p>
<p class="warning"><span>The term <em>remote</em> refers to a separate process, not necessarily a separate machine, though it supports both scenarios.</span></p>
<p>A remote container is a standalone process to which Arquillian deploys using the container&#8217;s client deployment APIs. Therefore, the libraries you need are:</p>
<ul>
	<li>APIs of the programming model (which only need to be packaged if the container does not provide them)</li>
	<li>The Arquillian remote container adapter</li>
	<li>The client deployment APIs for communicating with the container process</li>
</ul>
<p>In your Maven pom.xml file, add two new profiles inside the <code>&lt;profiles&gt;</code> element. The first profile uses a remote JBoss AS 7.1 container:</p>
<div class="filename">pom.xml</div>
<pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-jbossas-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.as&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-arquillian-container-remote&lt;/artifactId&gt;&#x000A;            &lt;version&gt;7.1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.protocol&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-protocol-servlet&lt;/artifactId&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
<p class="info"><span>By default, JBoss AS 7 deploys test archives to the server using the JMX protocol. We&#8217;ve gone ahead and added the dependency for the Servlet protocol in the <code>arquillian-jbossas-managed</code> profile just so it&#8217;s there if you need to use it in the future. See <a href="https://community.jboss.org/wiki/WhyDoIGetNoActiveContextsForScopeTypeWhenTestingOnJBossAS7">this FAQ</a> for instructions on how to switch to it.</span></p>
<p>The second profile uses a remote GlassFish 3.1.2 container:</p>
<div class="filename">pom.xml</div>
<pre class="prettify"><code class="prettify">&lt;!-- clip --&gt;&#x000A;&lt;profile&gt;&#x000A;    &lt;id&gt;arquillian-glassfish-remote&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Final&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;weld-api&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.1.Final&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-remote-3.1&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.CR3&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;&lt;/profile&gt;&#x000A;&lt;!-- clip --&gt;</code></pre>
<p class="info"><span>The remote GlassFish adapter uses Jersey to communicate with the container via JAX-RS (REST), which is pulled in as transitive dependency. The Weld API is required for unmarshalling exceptions returned by the in-container tests.</span></p>
<p>Once you&#8217;ve added the profiles to the pom.xml, right click on the project in Eclipse and select Maven &gt; Update Project Configuration. If the project is showing compiler errors, you need to activate one of the profiles.</p>
<p>Recall that there are two ways to activate a Maven profile in Eclipse (assuming you are using the <a href="http://www.eclipse.org/m2e">Maven Integration for Eclipse</a>):</p>
<ol>
	<li>Manual configuration (standard approach)</li>
	<li>Maven profile selector (JBoss Tools)</li>
</ol>
<p>Refer to the <a href="/guides/getting_started#test_across_containers">Getting Started</a> guide for instructions on how to activate a profile. Once you&#8217;ve activate the profile, the project should compile cleanly.</p>
<p>The remote container adapters expect the container to be running. Therefore, let&#8217;s get the containers setup so that we can start them from the comfort of the IDE before we run the test.</p>
<h3 id="control_the_servers">Control the Servers</h3>
<p>The easiest way to manage the remote containers is to set them up in your IDE. If you&#8217;re a more of a commandline person, you can skip this step and start the servers using the appropriate startup scripts.</p>
<p>We&#8217;ll show you how to add the server (container) controls in Eclipse. The process is similar for other IDEs. For Eclipse, you&#8217;ll need both <a href="http://jboss.org/tools">JBoss Tools</a> and the <a href="http://marketplace.eclipse.org/content/glassfish-java-ee-application-server-plugin-eclipse/metrics">GlassFish Java EE Application Server Plugin</a>, both of which are available in the Eclipse MarketPlace.</p>
<p>In Eclipse, select Window &gt; Show View &gt; Servers from the main menubar. Once the view opens, right click and select New &gt; Server. Create one server control for JBoss AS 7.1:</p>
<p><img src="/images/guides/arquillian_tutorial_2_new_jbossas_server.png" alt="" /></p>
<p>and another for GlassFish 3.1.2:</p>
<p><img src="/images/guides/arquillian_tutorial_2_new_glassfish_server.png" alt="" /></p>
<p class="info"><span>The wizard for JBoss AS requires you to select an existing installation. The wizard for GlassFish 3.1.2 provides an option to download and extract the distribution automatically.</span></p>
<p>Once you have completed the wizard for each container, you should see them appear in the server view:</p>
<p><img src="/images/guides/arquillian_tutorial_2_servers_view.png" alt="" /></p>
<p>To start a server, select the entry (as shown in the graphic above) and click the green play icon in the toolbar.</p>
<p class="info"><span>Arquillian assumes the containers are running on their default ports. If you have changed the ports, you can use arquillian.xml to specify the ports you are using for each container. Consult the <a href="https://docs.jboss.org/author/display/ARQ/Container+adapters">reference guide</a> for details.</span></p>
<p>Now that you&#8217;ve got the containers ready and waiting, it&#8217;s time to fire the test off to them.</p>
<h3 id="run_the_arquillian_test">Run the Arquillian Test</h3>
<p>To run the Arquillian test, you need to perform three steps:</p>
<ol>
	<li>Start the remote container</li>
	<li>Activate the Maven profile that adds the cooresponding container adapter to the classpath</li>
	<li>Run the test</li>
</ol>
<p>Let&#8217;s start with JBoss AS.</p>
<h4>Run the Test on JBoss AS</h4>
<p>To run the test on JBoss AS, begin by starting the JBoss AS container. Open the Servers view, select JBoss AS 7.1, then click the green play button. Wait for it to start (it shouldn&#8217;t take long).</p>
<p>Once that&#8217;s up and running, activate the <code>arquillian-jbossas-remote</code> Maven profile using either the Maven properties tab or the JBoss Tools Maven profile selector. The profile editor below shows the correct selection.</p>
<p><img src="/images/guides/arquillian_tutorial_2_jbossas_profile_selection.png" alt="" /></p>
<p>Finally, right click on the <code>BasketTest</code> class and select Run As &gt; JUnit Test. You should see a flurry of activity in the Console view and then&#8230;a <strong class="greenbar">green bar</strong> in the JUnit view!</p>
<p>You can also run the test on the commandline using Maven:</p>
<pre class="command"><code class="command">$ mvn test -Parquillian-jbossas-remote -Dtest=BasketTest</code></pre>
<p>You should see the following lines printed to the console:</p>
<pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.BasketTest&#x000A;...&#x000A;Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.844 sec</code></pre>
<p><strong>Congratulations!</strong> You&#8217;ve earned your first <strong class="greenbar">green bar</strong> with Arquillian using a remote container.</p>
<p class="info"><span>You can also inject the <code>OrderRepository</code> EJB using <code>@Inject</code> rather than <code>@EJB</code>. Give it a try!</span></p>
<p>If you want to verify that the singleton is actually doing its job, go ahead and remove the <code>@Singleton</code> annotation from the <code>SingletonOrderRepository</code> class and replace it with <code>@Stateful</code>. You should see an assertion error when you run the test. Revert the change and the bar will go back to green.</p>
<p>We are done with JBoss AS for the moment, so use the Servers view to stop the server. Now let&#8217;s test the exact same test in GlassFish 3.1.2.</p>
<h4>Run the Test on GlassFish</h4>
<p>To run the test on the standalone GlassFish server, begin by starting the server. Open the Servers view, select GlassFish 3.1.2, then click the green play button. Wait for it to start.</p>
<p>Once that&#8217;s up and running, activate the <code>arquillian-glassfish-remote</code> Maven profile using either the Maven properties tab or the JBoss Tools Maven profile selector. Remember to deactivate the <code>arquillian-jbossas-remote</code> profile. The profile editor below shows the correct selection.</p>
<p><img src="/images/guides/arquillian_tutorial_2_glassfish_profile_selection.png" alt="" /></p>
<p>Finally, right click on the <code>BasketTest</code> class and select Run As &gt; JUnit Test. You should see a flurry of activity in the Console view and then&#8230;a <strong class="greenbar">green bar</strong> in the JUnit view!</p>
<p>You can also run the test on the commandline using Maven:</p>
<pre class="command"><code class="command">$ mvn test -Parquillian-glassfish-remote -Dtest=BasketTest</code></pre>
<p>You should see the following lines printed to the console:</p>
<pre class="output"><code class="output">-------------------------------------------------------&#x000A;T E S T S&#x000A;-------------------------------------------------------&#x000A;Running org.arquillian.example.BasketTest&#x000A;...&#x000A;Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.549 sec</code></pre>
<p><strong>Congratulations!</strong> You&#8217;ve earned another <strong class="greenbar">green bar</strong>.</p>
<p>You should still be able to run the test on Embedded GlassFish using the profile you setup in the previous guide. Give it a try. You should also be able to debug the test easily.</p>
<p>Of course, debugging the test in an embedded container is easy since it runs in the same process as the test launcher. But what about a remote container?</p>
<h3 id="debug_the_arquillian_test">Debug the Arquillian Test</h3>
<p>Debugging a test in a remote container? That seems hard. Surprise! It&#8217;s not at all. You only have to modifiy one of the step above and add one additional step:</p>
<ol>
	<li><strong>Debug the remote container</strong></li>
	<li>Activate the Maven profile that adds the corresponding container adapter to the classpath</li>
	<li><strong>Set a breakpoint</strong></li>
	<li>Run the test</li>
</ol>
<p>In the Servers view, you should notice that there is a bug icon right next to the green play button. Click this button to start one of the servers in debug mode. Eclipse automatically connects its debugger to the container.</p>
<p>Set a breakpoint in the <code>addOrder()</code> method on the <code>SingletonOrderRepository</code> bean. Now, run the test again by right clicking and selecting Run As &gt; JUnit Test.</p>
<p class="warning"><span>You don&#8217;t need to use Debug As &gt; JUnit Test. The test code is running inside the container, which is already being debugged.</span></p>
<p>The test should halt at the breakpoint. If you are using JBoss AS, you can open the administration console and verify that the test application is currently deployed to the server.</p>
<p>If you browse the stack trace in the Eclipse Debug view, you&#8217;ll notice that the server is being controlled over a remote protocol (either JMX or Servlet) and that JUnit has been launched again from inside the container.</p>
<p><img src="/images/guides/arquillian_tutorial_2_debug_remote_test.png" alt="" /></p>
<p>You are now poking around the server from the comfort of your IDE.</p>
<p class="warning"><span>If you see the message &#8220;Source not found&#8221; in the editor view when the debugger stops at the breakpoint, you need to add the project to the debug configuration. Click &#8220;Edit Source Lookup Path&#8230;&#8221;, then click &#8220;Add&#8230;&#8221;, select Java Project, check the box next to your project then click &#8220;OK&#8221;. Voila! Source code.</span></p>
<h4>Stepping into External Libraries</h4>
<p>If you plan to step into a class in an external library (code outside of your application), you need to link the library to its source code.</p>
<p class="info"><span>This configuration is not necessary if you are using a Maven project and the sources for the library are available in the Maven repository. When you hit a breakpoint in a library not yet available locally, give it some time to download and the source code will eventually be revealed. If not, the source is probably not in the repository and you need to read on.</span></p>
<p>Here are the steps you need to follow to link a library to its source in the debug configuration:</p>
<ol>
	<li>Select the <code>Run &gt; Debug Configurations...</code> menu from the main menubar</li>
	<li>Select the name of the test class in the JUnit (or TestNG) category</li>
	<li>Select the Source tab</li>
	<li>Click the Add&#8230; button on the right</li>
	<li>If the source code is in another project:
	<ol>
		<li>Select Java Project</li>
		<li>Check the project that contains the class you want to debug</li>
		<li>Click OK on the Project Selection window</li>
	</ol></li>
	<li>If the source code is in a library:
	<ol>
		<li>Select External Archive</li>
		<li>Navigate to the archive that contains the source code (which you have to download, of course)</li>
	</ol></li>
	<li>Click Close on the Debug Configurations window</li>
</ol>
<p>You&#8217;ll have to complete those steps for any test class you are debugging, though you only have to do it once (the debug configuration sticks around indefinitely).</p>
<h3 id="debug_a_managed_server">Debug a Managed Server</h3>
<p>Is it possible to debug when using a managed container? You bet! We just need a little extra configuration.</p>
<p>Since Arquillian handles starting and stopping the container, we need to instruct Arquillian to start the container in debug mode. That&#8217;s a JVM hint that Arquillian needs to pass to the server, which we&#8217;ll supply using a container configuration property.</p>
<p>Before we get to that, we need to think about how we are going to connect the debugger. Unless you&#8217;re super speedy with the mouse, you&#8217;re going to have a hard time connecting the debugger before Arquillian starts running the tests. Fortunately, we can tell the JVM to wait for the connector to debug before executing the application, in this case JBoss AS. That gives us time to hit the debug button in the IDE to connect to the process.</p>
<p>Here&#8217;s the configuration you&#8217;ll need to add to the Arquillian configuration descriptor, arquillian.xml, to get Arquillian to start the server in debug mode: (No whitespace is allowed immediately after <code>&lt;property&gt;</code> start tag)</p>
<div class="filename">src/test/resources/arquillian.xml</div>
<pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;container qualifier="jbossas-managed" default="true"&gt;&#x000A;        &lt;configuration&gt;&#x000A;            &lt;property name="jbossHome"&gt;target/jboss-as-7.1.1.Final&lt;/property&gt;&#x000A;            &lt;property name="javaVmArguments"&gt;-Xmx512m -XX:MaxPermSize=128m&#x000A;                -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=y&#x000A;            &lt;/property&gt;&#x000A;        &lt;/configuration&gt;&#x000A;    &lt;/container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
<p>Notice the <code>suspend=y</code> flag. That tells the process to wait for the debugger to connect. We&#8217;ve set the debug port to 8787, which is the port you&#8217;ll supply to the debugger configuration. We&#8217;ll get to that in a minute. First, let&#8217;s get the test started.</p>
<ol>
	<li>Activate the Maven profile for <code>arquillian-jbossas-managed</code> (refer to the <a href="/guides/getting_started">Getting Started</a> guide)</li>
	<li>Run the test</li>
</ol>
<p>In the Console view, you should notice that Arquillian has started the JBoss AS instance and it&#8217;s waiting on the debugger to connect:</p>
<pre class="output"><code class="output">Listening for transport dt_socket at address: 8787</code></pre>
<p>All we have to do now is connect a debugger. Here&#8217;s how you configure and launch the debugger in Eclipse:</p>
<ol>
	<li>Select <code>Run &gt; Debug Configurations...</code> from the main menu</li>
	<li>Right click on Remote Java Application and select New</li>
	<li>In the Name field, enter &#8220;Debug JBoss AS&#8221;</li>
	<li>In the Port field, enter &#8220;8787&#8221;</li>
	<li>Click the Debug button</li>
</ol>
<p>Here&#8217;s the debug configuration screen showing the debug profile we&#8217;ve created:</p>
<p><img src="/images/guides/arquillian_tutorial_2_eclipse_debug_configuration.png" alt="" /></p>
<p>When you click the Debug button, JBoss AS should resume, then stop again when it hits the breakpoint in your test. Voila! You&#8217;re debugging a managed container!</p>
<h3 id="export_the_deployment">Export the Deployment</h3>
<p>Sometimes you need to get a little more insight about what Arquillian is deploying to the server. Fortunately, Arquillian provides a way to export the archive just before deploying it. Assign a relative or absolute directory to the <code>deploymentExportPath</code> property of the <code>&lt;engine&gt;</code> element in arquillian.xml and Arquillian will export the archive to that location for any Arquillian test you run.</p>
<div class="filename">src/test/resources/arquillian.xml</div>
<pre class="prettify"><code class="prettify">&lt;arquillian xmlns="http://jboss.org/schema/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://jboss.org/schema/arquillian&#x000A;        http://jboss.org/schema/arquillian/arquillian_1_0.xsd"&gt;&#x000A;    &lt;engine&gt;&#x000A;        &lt;property name="deploymentExportPath"&gt;target/deployments&lt;/property&gt;&#x000A;    &lt;/engine&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
<p>To enable the export for just a single test, use the VM argument <code>arquillian.deploymentExportPath</code>. For example: <code>-Darquillian.deploymentExportPath=target/deployments/</code>.</p>
<p>Now run a test and check the target/deployments folder. You should see a file with the extension .jar, .war or .ear. (Arquillian may have packaged the archive defined in the test inside another archive in order to add some magic). You can inspect the contents of this file using an archive manager. Hopefully the contents of the archive will give you the necessary insight to track down class not found or resource missing exceptions.</p>
<p>At this point, you&#8217;ve learned how to run and debug your tests in embedded, remote and managed containers. There&#8217;s no holding you back now. Keep on writing <em>real tests</em> and make Ike proud!</p>
  <h3 id="share">Share the Knowledge</h3>
  <p>Find this guide useful?</p>
  <p class="post_to_twitter"><a href="http://twitter.com/home/?status=Just%20read%20the%20%23Arquillian%20Getting%20Started:%20Rinse%20and%20Repeat%20guide%20and%20got%20a%20%23greenbar!%20Get%20yours.%20http://arquillian.org/guides/getting_started_rinse_and_repeat/"><img src="/images/post_to_twitter.png" alt="" /></a></p>
  <div class="g-plusone" data-size="tall"></div>
  <p>There&#8217;s a lot more about Arquillian to cover. If you&#8217;re ready to learn more, check out the <a href="/guides">other available guides</a>.</p>
  <h4>Feedback</h4>
  <p>Find a bug in the guide? Something missing? You can fix it by <a href="http://github.com/arquillian/arquillian.github.com">forking this website</a>, making the correction and <a href="http://help.github.com/send-pull-requests">sending a pull request</a>. If you&#8217;re just plain stuck, feel free to ask a question in the <a href="http://community.jboss.org/en/arquillian?view=discussions">user discussion forum</a>.</p>
  <h4>Recent Changelog</h4>
  <ul>
    <li>
      May 24, 2012:
      Clarify where the profile is inserted
      <em>by Dan Allen</em>
    </li>
    <li>
      May 15, 2012:
      Clarify use of @insequence
      <em>by Dan Allen</em>
    </li>
    <li>
      May 11, 2012:
      Simplify sentence
      <em>by Dan Allen</em>
    </li>
    <li>
      May 11, 2012:
      Explain how to export the archive for a single test
      <em>by Dan Allen</em>
    </li>
    <li>
      May 08, 2012:
      Update url of example pom.xml files, minor pom.xml updates, mention that test still works on embedded glassfish
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Proactively add the servlet protocol to the jboss as 7 profile
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Upgrade to jboss as 7.1.1.final
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Document how to step into the source of external libraries
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Add section on exporting the deployment archive
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Upgrade to jboss as 7.1.1.final
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 30, 2012:
      Revise guide for arquillian 1.0.0.final, upgrade to jboss as 7.1.1.final, update screenshots
      <em>by Dan Allen</em>
    </li>
    <li>
      Apr 05, 2012:
      Use description in prolog for guide summary
      <em>by Dan Allen</em>
    </li>
    <li>
      Feb 10, 2012:
      Identify authors &amp; translators by site identity
      <em>by Dan Allen</em>
    </li>
    <li>
      Feb 06, 2012:
      Add section for debugging test on a managed server
      <em>by Dan Allen</em>
    </li>
    <li>
      Nov 13, 2011:
      Use correct style for console output
      <em>by Dan Allen</em>
    </li>
  </ul>
  <p>
    <a href="https://github.com/arquillian/arquillian.github.com/commits/develop/guides/getting_started_rinse_and_repeat.textile">See full history &raquo;</a>
  </p>
</div>
<div id="sidebar">
  <div id="toc">
    <h3 class="chapter_header">Chapters</h3>
    <ol class="chapters">
      <li>
        <a href="#assumptions" id="assumptions_link">Assumptions</a>
      </li>
      <li>
        <a href="#create_the_components" id="create_the_components_link">Create the Components</a>
      </li>
      <li>
        <a href="#implement_in_phases" id="implement_in_phases_link">Implement in Phases</a>
      </li>
      <li>
        <a href="#write_a_test" id="write_a_test_link">Write a Test</a>
      </li>
      <li>
        <a href="#add_the_remote_containers" id="add_the_remote_containers_link">Add the Remote Containers</a>
      </li>
      <li>
        <a href="#control_the_servers" id="control_the_servers_link">Control the Servers</a>
      </li>
      <li>
        <a href="#run_the_arquillian_test" id="run_the_arquillian_test_link">Run the Arquillian Test</a>
      </li>
      <li>
        <a href="#debug_the_arquillian_test" id="debug_the_arquillian_test_link">Debug the Arquillian Test</a>
      </li>
      <li>
        <a href="#debug_a_managed_server" id="debug_a_managed_server_link">Debug a Managed Server</a>
      </li>
      <li>
        <a href="#export_the_deployment" id="export_the_deployment_link">Export the Deployment</a>
      </li>
      <li>
        <a href="#share" id="share_link">Share the Knowledge</a>
      </li>
    </ol>
  </div>
</div>
<script>
  $(window).load(function() { activateScrollingToc(['assumptions', 'create_the_components', 'implement_in_phases', 'write_a_test', 'add_the_remote_containers', 'control_the_servers', 'run_the_arquillian_test', 'debug_the_arquillian_test', 'debug_a_managed_server', 'export_the_deployment', 'share']) })
</script>
  </div>
</div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2012 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! You can also <a href="http://www.seethestats.com/site/arquillian.org">see the stats</a>. If you want to help, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a> and hack on it.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js"></script>
    <script src="/javascripts/jquery-scroll.js"></script>
    <script src="http://apis.google.com/js/plusone.js"></script>
  </body>
</html>
