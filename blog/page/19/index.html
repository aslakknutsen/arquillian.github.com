<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Arquillian Blog &#183; Arquillian</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="An innovative testing platform for the Java Virtual Machine (JVM). Open source. Highly extensible." name="description" />
    <link href="/blog/atom.xml" rel="alternate" title="Arquillian blog Atom feed" type="application/atom+xml" />
    <link href="/stylesheets/screen.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="blog index">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">
            <span class="logo"></span>
            <span class="name">Arquillian</span>
          </a>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/invasion/">Invasion!</a></li>
              <li><a href="/features/">Features</a></li>
              <li><a href="/guides/">Guides</a></li>
              <li class="active"><a href="/blog/">Blog</a></li>
              <li><a href="/community/">Community</a></li>
              <li><a href="/code/">Code</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main" role="main">
  <div id="content-header">
    <div class="container">
      <h1>
        <a href="/blog/">Arquillian Blog</a>
      </h1>
    </div>
  </div>
  <div class="container">
    <div id="content">
  <article class="post">
  <header class="header">
    <h2 class="title">
      <a href="/blog/2011/03/18/arquillian-container-jbossas-1-0-0-Alpha5/">Arquillian Container JBoss AS 1.0.0.Alpha5 Released</a>
    </h2>
    <div class="byline">
      <img class="avatar" src="http://gravatar.com/avatar/3f27861ec08730fd02c91fe4129d2668?s=44" />
      <span class="author">Posted by
      <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a></span>
      <span class="dateinline">on Mar 18, 2011</span>
      <div class="date"><abbr>Mar</abbr> 18</div>
    </div>
  </header>
  <div class="body">
    <p>The Arquillian team is proud to announce the <em>1.0.0.Alpha5</em> release of the <em>Arquillian Container JBoss AS</em> component!</p>
    
    <h3>What is Arquillian?</h3>
    <p>Arquillian is a platform that simplifies Java middleware testing. It brings your test to the runtime, freeing you from the concern of managing the runtime from your test. As a result, you can focus on the task at hand, <em>writing your integration test logic</em>.</p>
    <h3>Release details</h3>
    <table class="table table-bordered table-striped">
      <tbody>
        <tr>
          <th>Component</th>
          <td>Arquillian Container JBoss AS</td>
        </tr>
        <tr>
          <th>Modules</th>
          <td>
            <ul class="unstyled">
              <li>
                <a href="/modules/jbossas-managed-4.2-container-adapter/">Arquillian JBoss AS Managed 4.2.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-remote-4.2-container-adapter/">Arquillian JBoss AS Remote 4.2.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-remote-5-container-adapter/">Arquillian JBoss AS Remote 5.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-managed-5.1-container-adapter/">Arquillian JBoss AS Managed 5.1.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-remote-5.1-container-adapter/">Arquillian JBoss AS Remote 5.1.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-embedded-6-container-adapter/">Arquillian JBoss AS Embedded 6.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-managed-6-container-adapter/">Arquillian JBoss AS Managed 6.x Container Adapter</a>
              </li>
              <li>
                <a href="/modules/jbossas-remote-6-container-adapter/">Arquillian JBoss AS Remote 6.x Container Adapter</a>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>Version</th>
          <td>
            1.0.0.Alpha5
            <span class="label tag">
              <a href="https://github.com/arquillian/arquillian-container-jbossas/commit/e064500317776aeeeef8733da04cd50e349f02ea.html">view tag</a>
            </span>
          </td>
        </tr>
        <tr>
          <th>Release date</th>
          <td>2011-03-18</td>
        </tr>
        <tr>
          <th>Released by</th>
          <td>Aslak Knutsen</td>
        </tr>
      </tbody>
    </table>
    <p>
      Thanks to the following list of contributors:
      <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a>, <a href="https://community.jboss.org/people/kpiwko">Karel Piwko</a>, <a href="https://community.jboss.org/people/alrubinger">Andrew Lee Rubinger</a>
    </p>
  </div>
  <div class="footer">
    <a href="/blog/2011/03/18/arquillian-container-jbossas-1-0-0-Alpha5/">permalink</a>
    |
    <i class="icon-tags"></i>
    tagged as
    <a class="tag" href="/blog/tags/release/">release</a> <a class="tag" href="/blog/tags/container-adapter/">container-adapter</a> <a class="tag" href="/blog/tags/jbossas/">jbossas</a>
  </div>
</article>
<article class="post">
  <header class="header">
    <h2 class="title">
      <a href="/blog/2011/03/18/arquillian-container-glassfish-1-0-0-Alpha5/">Arquillian Container GlassFish 1.0.0.Alpha5 Released</a>
    </h2>
    <div class="byline">
      <img class="avatar" src="http://gravatar.com/avatar/3f27861ec08730fd02c91fe4129d2668?s=44" />
      <span class="author">Posted by
      <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a></span>
      <span class="dateinline">on Mar 18, 2011</span>
      <div class="date"><abbr>Mar</abbr> 18</div>
    </div>
  </header>
  <div class="body">
    <p>The Arquillian team is proud to announce the <em>1.0.0.Alpha5</em> release of the <em>Arquillian Container GlassFish</em> component!</p>
    
    <h3>What is Arquillian?</h3>
    <p>Arquillian is a platform that simplifies Java middleware testing. It brings your test to the runtime, freeing you from the concern of managing the runtime from your test. As a result, you can focus on the task at hand, <em>writing your integration test logic</em>.</p>
    <h3>Release details</h3>
    <table class="table table-bordered table-striped">
      <tbody>
        <tr>
          <th>Component</th>
          <td>Arquillian Container GlassFish</td>
        </tr>
        <tr>
          <th>Modules</th>
          <td>
            <ul class="unstyled">
              <li>
                <a href="/modules/glassfish-managed-3.1-container-adapter/">Arquillian GlassFish Managed 3.1 Container Adapter</a>
              </li>
              <li>
                <a href="/modules/glassfish-remote-3.1-container-adapter/">Arquillian GlassFish Remote 3.1 Container Adapter</a>
              </li>
              <li>
                <a href="/modules/glassfish-embedded-3.1-container-adapter/">Arquillian GlassFish Embedded 3.1 Container Adapter</a>
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <th>Version</th>
          <td>
            1.0.0.Alpha5
            <span class="label tag">
              <a href="https://github.com/arquillian/arquillian-container-glassfish/commit/49edd447c44d78ef4071fb5aac1fa7d329a64574.html">view tag</a>
            </span>
          </td>
        </tr>
        <tr>
          <th>Release date</th>
          <td>2011-03-18</td>
        </tr>
        <tr>
          <th>Released by</th>
          <td>Aslak Knutsen</td>
        </tr>
      </tbody>
    </table>
    <p>
      Thanks to the following list of contributors:
      <a href="https://community.jboss.org/people/aslak">Aslak Knutsen</a>, <a href="https://community.jboss.org/people/lightguard">Jason Porter</a>, <a href="https://community.jboss.org/people/kpiwko">Karel Piwko</a>, <a href="https://community.jboss.org/people/alrubinger">Andrew Lee Rubinger</a>
    </p>
  </div>
  <div class="footer">
    <a href="/blog/2011/03/18/arquillian-container-glassfish-1-0-0-Alpha5/">permalink</a>
    |
    <i class="icon-tags"></i>
    tagged as
    <a class="tag" href="/blog/tags/release/">release</a> <a class="tag" href="/blog/tags/container-adapter/">container-adapter</a> <a class="tag" href="/blog/tags/glassfish/">glassfish</a>
  </div>
</article>
<article class="post">
  <header class="header">
    <h2 class="title">
      <a href="/blog/2011/02/22/arquillian-graphene-1-0-0-Alpha1/">Graphene 1.0.0.Alpha1 Released</a>
    </h2>
    <div class="byline">
      <img class="avatar" src="http://gravatar.com/avatar/1ce36ce1c246b989f9cd79504c400b08?s=44" />
      <span class="author">Posted by
      <a href="https://community.jboss.org/people/lfryc">Lukas Fryc</a></span>
      <span class="dateinline">on Feb 22, 2011</span>
      <div class="date"><abbr>Feb</abbr> 22</div>
    </div>
  </header>
  <div class="body">
    <p>The Arquillian team is proud to announce the <em>1.0.0.Alpha1</em> release of the <em>Graphene</em> component!</p>
    
    <h3>What is Arquillian?</h3>
    <p>Arquillian is a platform that simplifies Java middleware testing. It brings your test to the runtime, freeing you from the concern of managing the runtime from your test. As a result, you can focus on the task at hand, <em>writing your integration test logic</em>.</p>
    <h3>Release details</h3>
    <table class="table table-bordered table-striped">
      <tbody>
        <tr>
          <th>Component</th>
          <td>
            <a href="/modules/graphene-extension/">Graphene</a>
          </td>
        </tr>
        <tr>
          <th>Version</th>
          <td>
            1.0.0.Alpha1
            <span class="label tag">
              <a href="https://github.com/arquillian/arquillian-graphene/commit/2d8bd2c0e5bdf1271203644bc064237c1dc35627.html">view tag</a>
            </span>
          </td>
        </tr>
        <tr>
          <th>Release date</th>
          <td>2011-02-22</td>
        </tr>
        <tr>
          <th>Released by</th>
          <td>Lukas Fryc</td>
        </tr>
      </tbody>
    </table>
    <p>
      Thanks to the following list of contributors:
      <a href="https://community.jboss.org/people/lfryc">Lukas Fryc</a>, <a href="https://community.jboss.org/people/ppitonak">Pavol Pitonak</a>
    </p>
  </div>
  <div class="footer">
    <a href="/blog/2011/02/22/arquillian-graphene-1-0-0-Alpha1/">permalink</a>
    |
    <i class="icon-tags"></i>
    tagged as
    <a class="tag" href="/blog/tags/release/">release</a> <a class="tag" href="/blog/tags/extension/">extension</a> <a class="tag" href="/blog/tags/graphene/">graphene</a>
  </div>
</article>
<article class="post">
  <header class="header">
    <h2 class="title">
      <a href="/blog/2010/10/04/the-perfect-recipe-for-testing-jpa-2-revisited/">The perfect recipe for testing JPA 2, revisited</a>
    </h2>
    <div class="byline">
      <img class="avatar" src="http://gravatar.com/avatar/dcccd96c499963133f7f95e7ffa20c4e?s=44" />
      <span class="author">Posted by
      <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a></span>
      <span class="dateinline">on Oct 04, 2010</span>
      <div class="date"><abbr>Oct</abbr> 04</div>
    </div>
  </header>
  <div class="body">
    <p><img src="/images/blog/arquillian_icon_jpa.png" style="float: right; margin-left: 1em; margin-top: -10px;" class="graphic" alt="" /> A while ago, <a href="http://blogs.oracle.com/arungupta">Arun Gupta</a> proposed a recipe for testing JPA 2 (JPQL &amp; Criteria) using Embedded GlassFish in one of his notable Tips of The Day (<a href="http://blogs.sun.com/arungupta/entry/totd_133_jpa2_jpql_criteria">TOTD #133</a>). Embedded containers such as GlassFish certainly make testing Java EE APIs achievable. But I want to challenge Arun&#8217;s conclusion that using Embedded GlassFish programmatically is the <em>perfect</em> recipe for testing.</p>
<p>In this entry, I&#8217;ll show that the test can be further simplified. By throwing the complexity of managing the container over the wall, you can focus solely on the task at hand, testing (and experimenting with) JPA 2. Not only does the test get simpler, it also becomes portable, so you are not locked into running it on Embedded GlassFish. Any compliant Java EE container, such as JBoss AS, or even a standalone JPA runtime will do. That&#8217;s a lot of flexibility.</p>
<p><em>The secret ingredient:</em> <a href="http://arquillian.org">Arquillian</a></p>
<p>As in Arun&#8217;s TOTD, our test will:</p>
<ul>
	<li>persist entities to a database and subsequently query them using JPQL and the JPA 2 Criteria API</li>
</ul>
<p>But that&#8217;s all we&#8217;ll worry about. We&#8217;ll let Arquillian handle the task of creating the JDBC Connection Pool and JDBC Resource using GlassFish APIs. Even that is behavior specific to the select target container. Other target containers may have parallel operations. That&#8217;s of no concern to the test.</p>
<p>Like Arun&#8217;s application, ours uses a (video) <code>Game</code> entity with two fields:</p>
<ul>
	<li><code>id</code> &#8211; the primary key</li>
	<li><code>title</code> &#8211; the title of the game</li>
</ul>
<p>The test persists 3 sample entries to the database and then retrieves them using a JPQL statement and the Criteria API. The test will perform three tasks:</p>
<ul>
	<li>store 3 sample entities in the database using the JPA <code>EntityManager</code></li>
	<li>query the database using JPQL</li>
	<li>query the database using Criteria API</li>
</ul>
<p>The entire source code is available in the <a href="http://github.com/arquillian/arquillian-examples/tree/master/jpa2">Arquillian examples project</a> on github.  All you need to see the action is run &#8220;mvn test&#8221; (and a hint of patience to wait for Maven to download the dependencies).</p>
<p>To get you acclimated, here&#8217;s the directory structure of the project.</p>
<pre>pom.xml&#x000A;src&#x000A;|-- main&#x000A;|   `-- java&#x000A;|       `-- com&#x000A;|           `-- acme&#x000A;|               `-- jpa&#x000A;|                   `-- Game.java&#x000A;`-- test&#x000A;    |-- java&#x000A;    |   `-- com&#x000A;    |       `-- acme&#x000A;    |           `-- jpa&#x000A;    |               `-- GamePersistenceTestCase.java&#x000A;    |-- resources&#x000A;    |   `-- arquillian.xml&#x000A;    |-- resources-glassfish-embedded&#x000A;    |   |-- sun-resources.xml&#x000A;    |   `-- test-persistence.xml&#x000A;    `-- resources-jbossas-remote&#x000A;        |-- jndi.properties&#x000A;        `-- test-persistence.xml</pre>
<p><code>Game</code> is the JPA entity class and test-persistence.xml provides the definition of our Persistence Unit for the test environment. We won&#8217;t touch persistence.xml since that&#8217;s the definition for the production environment.</p>
<p>Notice we have resource directories for both Embedded GlassFish and remote JBoss AS. We&#8217;ll get into that later.</p>
<p>Here&#8217;s the source of the <code>Game</code> entity class, as denoted by the <code>@Entity</code> annotation:</p>
<div class="filename">src/main/resources/com/acme/jpa/Game.java</div>
<pre class="prettify"><code class="prettify">package com.acme.jpa;</code>&#x000A; &#x000A;<code class="prettify">import java.io.Serializable;&#x000A;import javax.persistence.Entity;&#x000A;import javax.persistence.GeneratedValue;&#x000A;import javax.persistence.Id;&#x000A;import javax.validation.constraints.NotNull;&#x000A;import javax.validation.constraints.Size;</code>&#x000A; &#x000A;<code class="prettify">@Entity&#x000A;public class Game implements Serializable {&#x000A;    private Long id;&#x000A;    private String title;</code>&#x000A; &#x000A;<code class="prettify">    public Game() {}</code>&#x000A; &#x000A;<code class="prettify">    public Game(String title) {&#x000A;        this.title = title;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @Id @GeneratedValue&#x000A;    public Long getId() {&#x000A;        return id;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    public void setId(Long id) {&#x000A;        this.id = id;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @NotNull&#x000A;    @Size(min = 3, max = 50)&#x000A;    public String getTitle() {&#x000A;        return title;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    public void setTitle(String name) {&#x000A;        this.title = name;&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    @Override&#x000A;    public String toString() {&#x000A;        return "Game@" + hashCode() + "[id = " + id + "; title = " + title + "]";&#x000A;    }&#x000A;}</code></pre>
<p>The primary key is defined using the <code>@Id</code> annotation on the field. Additional columns are derived automatically from bean properties (standard getter/setter convention). You can use the <code>@Column</code> annotation to explicitly set the name of the column. Otherwise, the column name is determined by removing the &#8220;get&#8221; prefix from the bean property&#8217;s read method and lowercasing the first character of the remainder (e.g., getTitle() =&gt; title).</p>
<p>We are also using standard Bean Validation annotations to enforce constraints. Here, a title must be provided and it must be between 3 and 50 characters long. That would make a good test.</p>
<p>Let&#8217;s create a new JUnit 4 Arquillian test case, <code>GamePersistenceTestCase</code>, and prepare it to test our JPA operations. We&#8217;ll leverage <a href="http://docs.jboss.org/cdi/spec/1.0/html" title="JSR-299">CDI</a> to supply us with the resources we need via dependency injection. (We&#8217;ll look at an alternative way to accomplish this using a utility EJB in a follow-up post).</p>
<div class="filename">src/test/java/com/acme/jpa/test/GamePersistenceTestCase.java</div>
<pre class="prettify"><code class="prettify">@RunWith(Arquillian.class)&#x000A;public class GamePersistenceTestCase {&#x000A;    @Deployment&#x000A;    public static Archive&lt;?&gt; createDeployment() {&#x000A;        return ShrinkWrap.create(WebArchive.class, "test.war")&#x000A;            .addPackage(Game.class.getPackage())&#x000A;            .addManifestResource("test-persistence.xml", "persistence.xml")&#x000A;            .addWebResource(EmptyAsset.INSTANCE, "beans.xml");&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    private static final String[] GAME_TITLES = {&#x000A;        "Super Mario Brothers",&#x000A;        "Mario Kart",&#x000A;        "F-Zero"&#x000A;    };</code>&#x000A;    &#x000A;<code class="prettify">    @PersistenceContext&#x000A;    EntityManager em;</code>&#x000A;    &#x000A;<code class="prettify">    @Inject&#x000A;    UserTransaction utx;</code>&#x000A; &#x000A;<code class="prettify">    // tests go here&#x000A;}</code></pre>
<p>Let&#8217;s work from top to bottom to understand what&#8217;s going on here before we get to the tests.</p>
<dl>
	<dt>@RunWith(Arquillian.class)</dt>
	<dd>Tells JUnit to delegate execution of the test to the Arquillian runner.  This allows Arquillian to infuse your test with a component model, which consists of container lifecycle management and dependency injection, among other enhancements. Notice that you are not required to extend a base class, so that&#8217;s left open to your own design.</dd>
	<dt>@Deployment method</dt>
	<dd>Produces a &#8220;micro deployment&#8221; archive using the ShrinkWrap API.  Arquillian deploys this archive, along with the test case and some additional infrastructure, to the container. The test then executes as a component within this mini application. The contents of this archive are the tests isolated little world.</dd>
	<dt>GAME_TITLES constant</dt>
	<dd>The sample test data</dd>
	<dt>PersistenceContext EntityManager</dt>
	<dd>Injects the persistence context (<code>EntityManager</code>) directly into the test, just as though the test were a <a href="http://download.oracle.com/javaee/6/api/javax/annotation/ManagedBean.html">managed bean</a>.</dd>
	<dt>@Inject UserTransaction</dt>
	<dd>Injects a JTA transaction directly into the test, a service provided to the managed bean by CDI (JSR-299).<br />
Let&#8217;s add a helper method that enters the sample records into the database:</dd>
</dl>
<pre class="prettify"><code class="prettify">public void insertSampleRecords() throws Exception {&#x000A;    // clear database&#x000A;    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Clearing the database...");&#x000A;    em.createQuery("delete from Game").executeUpdate();</code>&#x000A; &#x000A;<code class="prettify">    // insert records&#x000A;    System.out.println("Inserting records...");&#x000A;    for (String title : GAME_TITLES) {&#x000A;        Game game = new Game(title);&#x000A;        em.persist(game);&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
<p>We have to explicitly enlist the <code>EntityManager</code> in the JTA transaction since we are using these two resources independently. Normally enlistment happens automatically within an EJB.</p>
<p>Here&#8217;s the test that verifies we can select the sample records using JPQL.  We&#8217;ll print some logging statements so you can watch what&#8217;s going on.</p>
<pre class="prettify"><code class="prettify">@Test&#x000A;public void should_be_able_to_select_games_using_jpql() throws Exception {&#x000A;    insertSampleRecords();</code>&#x000A; &#x000A;<code class="prettify">    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Selecting (using JPQL)...");&#x000A;    List&lt;Game&gt; games = em.createQuery("select g from Game g order by g.id",&#x000A;       Game.class).getResultList();&#x000A;    System.out.println("Found " + games.size() + " games (using JPQL)");&#x000A;    assertEquals(GAME_TITLES.length, games.size());</code>&#x000A; &#x000A;<code class="prettify">    for (int i = 0; i &lt; GAME_TITLES.length; i++) {&#x000A;        assertEquals(GAME_TITLES[i], games.get(i).getTitle());&#x000A;        System.out.println(games.get(i));&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
<p>Now for the new stuff! Here&#8217;s the same test that uses the Criteria API. Note that this test depends on the JPA 2 annotation processor generating the <code>Game_</code> metamodel class during the build compilation step.</p>
<pre class="prettify"><code class="prettify">@Test&#x000A;public void should_be_able_to_select_games_using_criteria_api() throws Exception {&#x000A;    insertSampleRecords();</code>&#x000A; &#x000A;<code class="prettify">    utx.begin();&#x000A;    em.joinTransaction();</code>&#x000A; &#x000A;<code class="prettify">    CriteriaBuilder builder = em.getCriteriaBuilder();&#x000A;    CriteriaQuery&lt;Game&gt; criteria = builder.createQuery(Game.class);&#x000A;    // FROM clause&#x000A;    Root&lt;Game&gt; game = criteria.from(Game.class);&#x000A;    // SELECT clause&#x000A;    criteria.select(game);&#x000A;    // ORDER BY clause&#x000A;    criteria.orderBy(builder.asc(game.get(Game_.id)));&#x000A;    // No WHERE clause, select all</code>&#x000A; &#x000A;<code class="prettify">    System.out.println("Selecting (using Criteria)...");&#x000A;    List&lt;Game&gt; games = em.createQuery(criteria).getResultList();&#x000A;    System.out.println("Found " + games.size() + " games (using Criteria)");&#x000A;    assertEquals(GAME_TITLES.length, games.size());</code>&#x000A; &#x000A;<code class="prettify">    for (int i = 0; i &lt; GAME_TITLES.length; i++) {&#x000A;        assertEquals(GAME_TITLES[i], games.get(i).getTitle());&#x000A;        System.out.println(games.get(i));&#x000A;    }</code>&#x000A; &#x000A;<code class="prettify">    utx.commit();&#x000A;}</code></pre>
<p>In order for JPA to work, it needs a Persistence Unit. We define the Persistence Unit in the test-persistence.xml that&#8217;s associated with the target container.</p>
<p>ShrinkWrap takes this file from the classpath and puts it into its standard location within the archive.</p>
<pre class="prettify"><code class="prettify">.addManifestResource("test-persistence.xml", "persistence.xml")</code></pre>
<p>Here&#8217;s the entire structure of the archive ShrinkWrap will assemble for this test case (minus the Arquillian infrastructure):</p>
<pre>WEB-INF/&#x000A;|-- beans.xml&#x000A;|-- classes&#x000A;|   |-- META-INF&#x000A;|   |   `-- persistence.xml&#x000A;|   `-- com&#x000A;|       `-- acme&#x000A;|           `-- jpa&#x000A;|               |-- Game.class&#x000A;|               |-- GamePersistenceTestCase.class&#x000A;|               `-- Game_.class&#x000A;`-- lib&#x000A;    |-- ...</pre>
<p>Let&#8217;s look at the Persistence Unit descriptor for Embedded GlassFish:</p>
<div class="filename">src/test/resources-glassfish-embedded/test-persistence.xml</div>
<pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://java.sun.com/xml/ns/persistence&#x000A;        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;&#x000A;    &lt;persistence-unit name="test"&gt;&#x000A;        &lt;jta-data-source&gt;jdbc/arquillian&lt;/jta-data-source&gt;&#x000A;        &lt;properties&gt;&#x000A;            &lt;property name="eclipselink.ddl-generation"&#x000A;                value="drop-and-create-tables"/&gt;&#x000A;            &lt;property name="eclipselink.logging.level" value="FINE"/&gt;&#x000A;        &lt;/properties&gt;&#x000A;    &lt;/persistence-unit&gt;&#x000A;&lt;/persistence&gt;</code></pre>
<p>We set two vendor-specific properties to activate features of the built-in provider, EclipseLink. The first property tells EclipseLink to generate the database to match the JPA entities. The second property enables logging of SQL statements so we can monitor the activity.</p>
<p>The Persistence Unit is referring to the JTA DataSource named jdbc/arquillian.  Where&#8217;s that defined? Ah, that&#8217;s something the Arquillian container adapter needs to setup. As in Arun&#8217;s recipe, we want to use the GlassFish APIs to create a JDBC Connection Pool and associated Resource. But we don&#8217;t want to have to code it. We just want to declare it.</p>
<p>First, we create a sun-resources.xml file containing the resource definitions, which GlassFish knows how to consume.</p>
<div class="filename">src/test/resources-glassfish-embedded/sun-resources.xml</div>
<pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;!DOCTYPE resources PUBLIC&#x000A;   -//Sun Microsystems, Inc.//DTD Application Server 9.0 Resource Definitions //EN&#x000A;   http://www.sun.com/software/appserver/dtds/sun-resources_1_4.dtd&gt;&#x000A;&lt;resources&gt;&#x000A;    &lt;jdbc-resource pool-name="ArquillianEmbeddedDerbyPool"&#x000A;        jndi-name="jdbc/arquillian"/&gt;&#x000A;    &lt;jdbc-connection-pool name="ArquillianEmbeddedDerbyPool"&#x000A;        res-type="javax.sql.DataSource"&#x000A;        datasource-classname="org.apache.derby.jdbc.EmbeddedDataSource"&#x000A;        is-isolation-level-guaranteed="false"&gt;&#x000A;        &lt;property name="databaseName" value="target/databases/derby"/&gt;&#x000A;        &lt;property name="createDatabase" value="create"/&gt;&#x000A;    &lt;/jdbc-connection-pool&gt;&#x000A;&lt;/resources&gt;</code></pre>
<p>We&#8217;ve now isolated the DataSource definition from the test in the same way we do in the main application. The further benefit is that we can define any resources we might need for our test. Imagine the possibilities.</p>
<p>Now we need to tell Arquillian to use this file. We open up the Arquillian configuration and configure the Embedded GlassFish container adapter to pick up this file, which it will feed to the asadmin add-resources command.</p>
<div class="filename">src/test/resources/arquillian.xml</div>
<pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;arquillian xmlns="http://jboss.com/arquillian"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xmlns:gfembed="urn:arq:org.jboss.arquillian.container.glassfish.embedded_3"&gt;&#x000A;    &lt;gfembed:container&gt;&#x000A;        &lt;gfembed:sunResourcesXml&gt;&#x000A;            src/test/resources-glassfish-embedded/sun-resources.xml&#x000A;        &lt;/gfembed:sunResourcesXml&gt;&#x000A;    &lt;/gfembed:container&gt;&#x000A;&lt;/arquillian&gt;</code></pre>
<p>All that&#8217;s left is to setup the Maven build to execute the test. To get this code to actually compile, we have to tell Maven it&#8217;s okay to use JDK 6 (it&#8217;s stubborn like that).</p>
<pre class="prettify"><code class="prettify">&lt;build&gt;&#x000A;    &lt;plugins&gt;&#x000A;        &lt;plugin&gt;&#x000A;            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#x000A;            &lt;version&gt;2.3.1&lt;/version&gt;&#x000A;            &lt;configuration&gt;&#x000A;                &lt;source&gt;1.6&lt;/source&gt;&#x000A;                &lt;target&gt;1.6&lt;/target&gt;&#x000A;            &lt;/configuration&gt;&#x000A;        &lt;/plugin&gt;&#x000A;    &lt;/plugins&gt;&#x000A;&lt;/build&gt;</code></pre>
<p>You also need to configure Maven to run the JPA 2 annotation processor, which I describe in <a href="http://in.relation.to/Bloggers/AMoreConciseWayToGenerateTheJPA2MetamodelInMaven">another blog entry</a>.</p>
<p>We&#8217;re going to separate out the target containers using Maven profiles. All of the profiles will share a common set of dependencies:</p>
<pre class="prettify"><code class="prettify">&lt;dependencies&gt;&#x000A;    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;junit&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;4.8.1&lt;/version&gt;&#x000A;    &lt;/dependency&gt;</code>&#x000A;&#x000A;<code class="prettify">    &lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.arquillian&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;arquillian-junit&lt;/artifactId&gt;&#x000A;        &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;    &lt;/dependency&gt;&#x000A;&lt;/dependencies&gt;</code></pre>
<p>Here&#8217;s the profile for Embedded GlassFish. If you don&#8217;t want to target multiple containers, you can simply make this part of the top-level configuration.</p>
<pre class="prettify"><code class="prettify">&lt;profile&gt;&#x000A;    &lt;id&gt;arq-glassfish-embedded&lt;/id&gt;&#x000A;    &lt;activation&gt;&#x000A;        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;&#x000A;    &lt;/activation&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-glassfish-embedded-3&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.glassfish.extras&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;glassfish-embedded-all&lt;/artifactId&gt;&#x000A;            &lt;version&gt;3.0.1&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;testResources&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources-glassfish-embedded&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;        &lt;/testResources&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/profile&gt;</code></pre>
<p>We are explicitly adding the src/test/resources-glassfish-embedded directory as a test resource directory so that test-persistence.xml is placed into the classpath. Again, if you only intend on using Embedded GlassFish, this file can be moved into the standard Maven location and you can skip this configuration.</p>
<p>When you are done setting everything up, you can run the test with the following command:</p>
<pre class="command"><code class="command">$ mvn clean test</code></pre>
<p>The profile for Embedded GlassFish is activated by default. Snippets of the test output is show below.</p>
<pre class="output"><code class="output">...&#x000A;INFO: GlassFish Server Open Source Edition 3.0.1 (java_re-private)&#x000A;...&#x000A;Oct 4, 2010 1:01:56 PM org.jboss.arquillian.container.glassfish.embedded_3.GlassFishEmbeddedContainer executeCommand&#x000A;INFO: add-resources command result (1): JDBC connection pool ArquillianEmbeddedDerbyPool created successfully.&#x000A;Oct 4, 2010 1:01:56 PM org.jboss.arquillian.container.glassfish.embedded_3.GlassFishEmbeddedContainer executeCommand&#x000A;INFO: add-resources command result (2): JDBC resource jdbc/arquillian created successfully.&#x000A;Oct 4, 2010 1:01:56 PM com.sun.enterprise.v3.services.impl.GrizzlyProxy$2$1 onReady&#x000A;INFO: Grizzly Framework 1.9.18-o started in: 226ms listening on port 8181&#x000A;...&#x000A;Oct 4, 2010 1:07:14 PM com.sun.enterprise.web.WebApplication start&#x000A;INFO: Loading application test at /test&#x000A;...&#x000A;Inserting records...&#x000A;Selecting (using JPQL)...&#x000A;Found 3 games (using JPQL)&#x000A;Game@22609264[id = 1; title = Super Mario Brothers]&#x000A;Game@3655662[id = 2; title = Mario Kart]&#x000A;Game@20289248[id = 3; title = F-Zero]&#x000A;Selecting (using Criteria)...&#x000A;Found 3 games (using Criteria)&#x000A;Game@25589884[id = 1; title = Super Mario Brothers]&#x000A;Game@18616220[id = 2; title = Mario Kart]&#x000A;Game@29940830[id = 3; title = F-Zero]&#x000A;...&#x000A;Oct 4, 2010 1:07:16 PM com.sun.enterprise.v3.server.AppServerStartup stop&#x000A;INFO: Shutdown procedure finished</code></pre>
<p><strong>That&#8217;s a real integration test!</strong></p>
<p>What&#8217;s more, we can run the exact same test on JBoss AS. We&#8217;ll need a different Persistence Unit definition that specifies a JDBC Resource available on JBoss AS and sets some Hibernate configuration settings. (Arquillian doesn&#8217;t yet support deploying a DataSource to JBoss AS&#8212;though it&#8217;s in the pipeline&#8212;so for now we use the built-in DataSource, java:/DefaultDS.).</p>
<div class="filename">src/test/resources-jbossas-remote/test-persistence.xml</div>
<pre class="prettify"><code class="prettify">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#x000A;&lt;persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"&#x000A;    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#x000A;    xsi:schemaLocation="&#x000A;        http://java.sun.com/xml/ns/persistence&#x000A;        http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;&#x000A;    &lt;persistence-unit name="test"&gt;&#x000A;        &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;&#x000A;        &lt;properties&gt;&#x000A;            &lt;property name="hibernate.hbm2ddl.auto" value="create-drop"/&gt;&#x000A;            &lt;property name="hibernate.show_sql" value="true"/&gt;&#x000A;        &lt;/properties&gt;&#x000A;    &lt;/persistence-unit&gt;&#x000A;&lt;/persistence&gt;</code></pre>
<p>Then we need a Maven profile that adds the JBoss AS container adapter and client API libraries and the JBoss AS resources:</p>
<pre class="prettify"><code class="prettify">&lt;profile&gt;&#x000A;    &lt;id&gt;arq-jbossas-managed&lt;/id&gt;&#x000A;    &lt;dependencies&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;arquillian-jbossas-managed-6&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-as-client&lt;/artifactId&gt;&#x000A;            &lt;version&gt;6.0.0.20100721-M4&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.0.Beta7&lt;/version&gt;&#x000A;            &lt;type&gt;pom&lt;/type&gt;&#x000A;            &lt;scope&gt;provided&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;        &lt;dependency&gt;&#x000A;            &lt;groupId&gt;org.jboss.jbossas&lt;/groupId&gt;&#x000A;            &lt;artifactId&gt;jboss-server-manager&lt;/artifactId&gt;&#x000A;            &lt;version&gt;1.0.3.GA&lt;/version&gt;&#x000A;            &lt;scope&gt;test&lt;/scope&gt;&#x000A;        &lt;/dependency&gt;&#x000A;    &lt;/dependencies&gt;&#x000A;    &lt;build&gt;&#x000A;        &lt;testResources&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;            &lt;testResource&gt;&#x000A;                &lt;directory&gt;src/test/resources-jbossas-remote&lt;/directory&gt;&#x000A;            &lt;/testResource&gt;&#x000A;        &lt;/testResources&gt;&#x000A;    &lt;/build&gt;&#x000A;&lt;/profile&gt;</code></pre>
<p>Now we run the test again using Maven, but this time activate the JBoss AS managed profile. (You need to set the JBOSS_HOME environment variable to point to a JBoss AS installation)</p>
<pre class="command"><code class="command">$ mvn clean test -Parq-jbossas-managed</code></pre>
<p>Here&#8217;s the kicker. You can run this test into your IDE! Just import the project, open the test case and select &#8220;Run As &gt; JUnit Test&#8221;. Voila! It works just like any other JUnit test.</p>
<p><strong>Enjoy the perfect recipe for testing JPA!</strong></p>
<p><em>While it may have seemed like a lot of preparation, recognize that we left no stone unturned. To remind you of the benefits, just look back at how simple the test case is. And remind yourself it&#8217;s not bound to any particular Java EE 6 container or JPA 2 implementation.</em></p>
<p><em>Stay tuned for other combinations, such as OpenEJB 3.2 Embedded with OpenJPA 2. So far I&#8217;ve figured out <a href="http://community.jboss.org/message/564696#564696">how to test JPA 1.x applications</a> using OpenEJB 3.1 with OpenJPA, Hibernate and EclipseLink.</em></p>
  </div>
  <div class="footer">
    <a href="/blog/2010/10/04/the-perfect-recipe-for-testing-jpa-2-revisited/">permalink</a>
    |
    <i class="icon-tags"></i>
    tagged as
    <a class="tag" href="/blog/tags/jpa/">jpa</a> <a class="tag" href="/blog/tags/jbossas/">jbossas</a> <a class="tag" href="/blog/tags/glassfish/">glassfish</a> <a class="tag" href="/blog/tags/examples/">examples</a> <a class="tag" href="/blog/tags/cdi/">cdi</a> <a class="tag" href="/blog/tags/2010/">2010</a> <a class="tag" href="/blog/tags/nonrelease/">nonrelease</a>
  </div>
</article>
<article class="post">
  <header class="header">
    <h2 class="title">
      <a href="/blog/2010/07/03/ike-a-developer-magnet-at-judcon-and-jbossworld/">Ike, a developer magnet at JUDCon & JBossWorld</a>
    </h2>
    <div class="byline">
      <img class="avatar" src="http://gravatar.com/avatar/dcccd96c499963133f7f95e7ffa20c4e?s=44" />
      <span class="author">Posted by
      <a href="https://community.jboss.org/people/dan.j.allen">Dan Allen</a></span>
      <span class="dateinline">on Jul 03, 2010</span>
      <div class="date"><abbr>Jul</abbr> 03</div>
    </div>
  </header>
  <div class="body">
    <p>Last month, the <a href="http://jboss.org/arquillian">Arquillian</a> developers got together at <a href="http://www.redhat.com/summit">Red Hat Summit / JBossWorld 2010</a>, hosted at the Seaport World Trade Center in Boston, to Experience Open Source with our community.</p>
<p><img src="/images/blog/redhatsummit2010/conference-entrance.jpg" title="Conference entrance" alt="Conference entrance" /></p>
<p>We <a href="http://community.jboss.org/message/532470#532470">asked the community</a> what they wanted to hear about at <a href="http://jboss.org/events/JUDCon.html">JUDCon</a>. Survey said&#8230;&#8220;Arquillian.&#8221; So we unleashed Ike and his fleet of testable containers onto JUDCon and JBoss World.</p>
<p>While Arquillian only appeared twice on the official schedule&#8212;once at JUDCon, presented by Aslak and myself, and once at JBoss World, presented by ALR&#8212;it managed to make an appearance every hour, in one form or another (including bar discussions). Thanks for encouraging him with all the votes!</p>
<p>On the eve of JUDCon, three of the Arquillian ringleaders (<a href="https://community.jboss.org/people/aslak">Aslak</a>, <a href="https://community.jboss.org/people/alrubinger">ALR</a> and <a href="https://community.jboss.org/people/dan.j.allen">Dan</a>) met up at Harvard Square bar for the Boston JBUG to devise a plan to make testing a main focal point of the weeklong conference event:</p>
<p><img src="/images/blog/judcon2010/arquillian-ringleader-meeting.jpg" title="Arquillian team meetup" alt="Arquillian team meetup" /></p>
<p>Not letting a moment slip by, Arquillian led off the <a href="http://jboss.org/events/JUDCon/schedule.html">community track</a> at JUDCon early the next morning.</p>
<p><img src="/images/blog/judcon2010/community-track.jpg" title="JUDCon 2010 Community Track" alt="JUDCon 2010 Community Track" /></p>
<p>Aslak and I wanted to leave a strong impression on the audience. So instead of going on about theory, we prepared a talk on <a href="https://jboss.org/dms/judcon/presentations/JUDCon2010_FutureofJavaEETesting.pdf">the future of Java EE testing</a> that can be summed up as: <a href="http://github.com/arquillian/arquillian-showcase">demo, demo, demo, demo</a>. With me driving the commands (doing my best to type on a <a href="http://en.wikipedia.org/wiki/Keyboard_layout#Norwegian">Norwegian keyboard layout</a>), Aslak pointed at the screen and, in a flash, showed how Arquillian can make child&#8217;s play out of testing EJBs, JMS, JAX-RS, JPA and even JSF.</p>
<p><img src="/images/blog/judcon2010/aslak-presenting-arquillian-test_scaled.jpg" title="Aslak explaining an Arquillian test" alt="Aslak explaining an Arquillian test" /></p>
<p>While we&#8217;ve come a long way with Arquillian, presenting always gets us thinking of other things we can do with it. (Notice Aslak sporting the <a href="http://www.cafepress.com/jbossorg.457236901">black Arquillian shirt</a>).</p>
<p><img src="/images/blog/judcon2010/aslak-pondering-question.jpg" title="Aslak answering a question" alt="Aslak answering a question" /></p>
<p>Ike didn&#8217;t want to get stuck inside the computer the whole conference, so we printed him on a bunch of <a href="http://www.cafepress.com/jbossorg/7125835">shirts and buttons</a> to give away. Our plan was almost foiled because of my absentmindedness, but it was saved when my wife delivered the &#8220;bag of goodies&#8221; just as the talk was ending. We spread the Arquillian swag around and it scattered off to invade other talks and strike up conversations.</p>
<p><img src="/images/blog/judcon2010/dan-tossing-t-shirts.jpg" title="Dan tossing t-shirts" alt="Dan tossing t-shirts" /></p>
<p>Everytime you turned around, Ike was hitching a ride on someone&#8217;s backpack.</p>
<p><img src="/images/blog/judcon2010/ike-riding-on-backpack.jpg" title="Ike pin on backpack" alt="Ike pin on backpack" /></p>
<p>Making his second apparence on the <a href="http://asylum.libsyn.com/">JBoss Community Asylum</a>, this time under the JBoss moniker, Aslak explained how Arquillian makes the task of testing Java EE applications simple and possible. This would be one of many trips to the microphone throughout the week. But this time, he caught some grief from the jokester hosts poking fun at the project name:</p>
<blockquote>
<p>Who is Hark William? Is he a country singer or some sort of character from Star Wars?</p>
</blockquote>
<p>Aslak set the record straight.</p>
<blockquote>
<p>His name is Ike. And he&#8217;s from Hollywood. He&#8217;s an alien that controls everything inside his little world.</p>
</blockquote>
<p><img src="/images/blog/arquillian_icon_64px.png" class="graphic" title="Arquillian icon" alt="Arquillian icon" /></p>
<p>If Ike could speak, he would have simply issued the warning:</p>
<blockquote>
<p>Don&#8217;t mock me.</p>
</blockquote>
<p>He must have left quite an impression, because the host immediately credited Arquillian as having &#8220;a couple of talks today.&#8221; Sure, that&#8217;s how we remember it too</p>
<p>Even though the Arquillian team only had one talk at JUDCon, we did have a front row seat in the <a href="https://jboss.org/dms/judcon/presentations/JUDCon2010_JCAConnectingEnterprise.pdf">Code generation world premiere</a> presented by <a href="https://community.jboss.org/people/jesper.pedersen">Jesper Pedersen</a> from the <a href="http://jboss.org/ironjacamar" title="JBoss JCA">IronJacamar</a> Team, showing of their shiny new tool for JCA adaptor source code generation with full Arquillian test support.</p>
<p>So what&#8217;s the Arquillian project status? &#8220;Alpha3 is coming soon. And more containers.&#8221; (Little did they know, three containers would be added later that night).</p>
<p>The podcast had interrupted the JUDCon hackfest. It then proceeded to ultimately disrupt the hackfest when Emmanuel announced at the top of the hour,</p>
<blockquote>
<p>Let&#8217;s go get some beers.</p>
</blockquote>
<p>So all the talk of a hackfest ended up being just that, talk. But wait, not those hard-core Arquillian developers. They&#8217;re the only ones that stuck around, pressing on even in the absense of beer.</p>
<p><img src="/images/blog/judcon2010/arquillian-hackfest.jpg" title="Arquillian hackfest" alt="Arquillian hackfest" /></p>
<p>&#8220;Why?&#8221; you ask. Because we were hell-bent on getting the Tomcat and Jetty container integrations working. I did the Jetty integration while <a href="https://community.jboss.org/people/deruelle_jean">Jean Deruelle</a> worked on the one for Tomcat. <a href="https://community.jboss.org/people/lincolnthree">Lincoln Baxter III</a> looked up from his work laying down the foundation for <a href="http://jboss.org/forge">JBoss Forge</a>.</p>
<p><img src="/images/blog/judcon2010/arquillian-hackfest-intense.jpg" title="Developers looking at screen" alt="Developers looking at screen" /></p>
<p>Once we both got green bars, we finally called it a night and headed out for a round of drinks to celebrate.</p>
<p><img src="/images/blog/judcon2010/drinking-at-whiskey-priest.jpg" title="Drinks at Whiskey Priest" alt="Drinks at Whiskey Priest" /></p>
<p>We took a break the next afternoon to check out the sights and sounds of downtown Boston, which could be seen off in the distance from the conference center.</p>
<p><img src="/images/blog/redhatsummit2010/downtown-boston.jpg" title="Boston skyscape" alt="Boston skyscape" /></p>
<p>That evening I headed over to the Red Hat Summit kickoff at the pavilion for my booth duty. <a href="https://community.jboss.org/people/kenglxn">Ken Gullaksen</a>, one of our top community members, snapped a shot of me sporting our cool <a href="https://jboss.org/coolstuff/desktopwallpapers/arquillian.html">Arquillian desktop wallpaper</a> on my Android phone.</p>
<p><img src="/images/blog/redhatsummit2010/arquillian-android-background.jpg" title="Arquillian desktop wallpaper on Android" alt="Arquillian desktop wallpaper on Android" /></p>
<p>Fashioning the Arquillian button, I was soon approached by an attendee who asked me if I had any extra. I asked him if he knew what they were for. He replied,</p>
<blockquote>
<p>No. But it looks really cool.</p>
</blockquote>
<p>Ike, such a developer magnet <img src="/images/emoticons/wink.png" alt=";)" class="emoticon" /></p>
<p>At some point we made our way from the conference center to a bar downtown. Like always, I&#8217;m in the bar ranting on about some technology, probably Maven:</p>
<p><img src="/images/blog/redhatsummit2010/dan-ranting-at-bar.jpg" title="Dan ranting at bar" alt="Dan ranting at bar" /></p>
<p>We were up early the next morning for the second Arquillian charge. ALR kicked off the conference by showing how developers can achieve rapid development with Enterprise Java by <a href="http://www.redhat.com/promo/summit/2010/presentations/jbossworld/developer-insights-ii/wed/arubginer-1020-throwing/arubinger_1020_throwing.pdf">throwing complexity over the wall</a> and using ShrinkWrap and Arquillian, while at the same time <a href="https://community.jboss.org/people/marklittle">Mark Little</a>, our director, was in the other room explaining how Arquillian fits into our strategy in his <a href="http://www.redhat.com/promo/summit/2010/presentations/jbossworld/enterprise-insights/wed/mlittle-1020-state/mlittle_1020_jboss_state.pdf">JBoss State of the Union address</a>.</p>
<blockquote>
<p>Arquillian is <strong>central</strong> to the evolution of platfoms &amp; relevant for development.</p>
</blockquote>
<p>To put it more bluntly, he slipped out,</p>
<blockquote>
<p><strong>You need to test the hell out of things.</strong></p>
</blockquote>
<p>We agree <img src="/images/emoticons/smile.png" alt=":)" class="emoticon" /></p>
<p>Handling all that complexity for the developer is hard work, though. It really took it&#8217;s toll on ALR,</p>
<p><img src="/images/blog/redhatsummit2010/alr-passed-out.jpg" title="ALR passed out on couch" alt="ALR passed out on couch" /></p>
<p>Arquillian got a mention in the joint <a href="http://www.redhat.com/promo/summit/2010/sessions/jboss.html#580123">RichFaces 4 / Seam Faces</a> talk and the <a href="http://www.redhat.com/promo/summit/2010/sessions/jboss.html#546873">Seam 3: State of Union</a> talk. All the activity had the developers&#8217; interest piqued. When <a href="https://community.jboss.org/people/petemuir">Pete Muir</a> asked during the the <a href="http://www.redhat.com/promo/summit/2010/sessions/jboss.html#523000">JBoss Developer Story BOF</a> what people wanted to hear more about, someone called out,</p>
<blockquote>
<p>I want to hear more about the testing tool.</p>
</blockquote>
<p>Once again, Aslak was called to the mic to showcase Arquillian. The timing was excellent because <a href="https://community.jboss.org/people/burrsutter">Burr Sutter</a>, who is currently focused on improving the developer experience, witnessed first-hand how desperately this tool is needed. Afterwards, I said to him,</p>
<blockquote>
<p>It&#8217;s like we just showed up with food to a starving country.</p>
</blockquote>
<p>And what are they asking for? <strong>More.</strong></p>
<p>Until we meet up again, we&#8217;ll be hard at work making testing as easy and powerful as possible. That means working closely with our tools guy, <a href="https://community.jboss.org/people/maxandersen">Max Andersen</a> (left).</p>
<p><img src="/images/blog/redhatsummit2010/max-aslak-alr.jpg" title="Max, Aslak and ALR" alt="Max, Aslak and ALR" /></p>
<p>Ike sure had a big week. So at the end of it all, we bought him a drink (at Drink).</p>
<p><img src="/images/blog/redhatsummit2010/arquillian-drink.jpg" title="Arquillian t-shirt with drink" alt="Arquillian t-shirt with drink" /></p>
<p>The <a href="http://community.jboss.org/community/arquillian">Arquillian forums</a> are really heating up! Community participation is what makes the success of Arquillian possible. Keep it up folks!</p>
<p><a href="https://picasaweb.google.com/117036513219368604864/JUDCon2010InBoston?authuser=0&amp;authkey=Gv1sRgCInn19nsxqf7nwE&amp;feat=directlink#slideshow/5615556481314926594">Conference photos</a> | <a href="https://picasaweb.google.com/116903387248132711974/Summitjbw#slideshow/5487496355107406098">More conference photos</a> | <a href="http://www.cafepress.com/jbossorg/7125835">Arquillian swag</a></p>
  </div>
  <div class="footer">
    <a href="/blog/2010/07/03/ike-a-developer-magnet-at-judcon-and-jbossworld/">permalink</a>
    |
    <i class="icon-tags"></i>
    tagged as
    <a class="tag" href="/blog/tags/event/">event</a> <a class="tag" href="/blog/tags/photos/">photos</a> <a class="tag" href="/blog/tags/hackfest/">hackfest</a> <a class="tag" href="/blog/tags/judcon/">judcon</a> <a class="tag" href="/blog/tags/jbossworld/">jbossworld</a> <a class="tag" href="/blog/tags/2010/">2010</a> <a class="tag" href="/blog/tags/nonrelease/">nonrelease</a>
  </div>
</article>
<ul class="pager">
  <li class="previous">
    <a href="/blog/page/20/">&laquo; Older</a>
  </li>
  <li class="pages">Page 19 of 20</li>
  <li class="next">
    <a href="/blog/page/18/">Newer &raquo;</a>
  </li>
</ul>
</div>
<aside id="sidebar" role="complementary">
  <div class="subscribe">
    <h2 class="icon news">
      <a href="/blog/atom.xml">Subscribe to the Arquillian Blog</a>
    </h2>
    <p><em>Get the latest information on features, releases and events.</em></p>
  </div>
  <nav class="latest">
    <h2>Latest Posts</h2>
    <ul>
      <li>
        <div class="title">
          <a href="/blog/2012/06/27/arquillian-extension-drone-1-1-0-CR1/">Arquillian Drone Extension 1.1.0.CR1 Released</a>
        </div>
        <div class="meta">
          Jun 27, 2012
        </div>
      </li>
      <li>
        <div class="title">
          <a href="/blog/2012/06/05/arquillian-extension-byteman-1-0-0-Alpha2/">Arquillian Extension Byteman 1.0.0.Alpha2 Released</a>
        </div>
        <div class="meta">
          Jun 05, 2012
        </div>
      </li>
      <li>
        <div class="title">
          <a href="/blog/2012/06/01/arquillian-core-1-0-1-Final/">Arquillian Core 1.0.1.Final Released</a>
        </div>
        <div class="meta">
          Jun 01, 2012
        </div>
      </li>
      <li>
        <div class="title">
          <a href="/blog/2012/05/27/arquillian-extension-warp-1-0-0-Alpha1/">Arquillian Warp Extension 1.0.0.Alpha1 Released</a>
        </div>
        <div class="meta">
          May 27, 2012
        </div>
      </li>
      <li>
        <div class="title">
          <a href="/blog/2012/05/22/arquillian-extension-spring-1-0-0-Alpha1/">Arquillian Spring Framework Extension 1.0.0.Alpha1 Released</a>
        </div>
        <div class="meta">
          May 22, 2012
        </div>
      </li>
    </ul>
  </nav>
  <nav class="tags">
    <h2>Tags</h2>
    <div class="tag-cloud">
      <span class="tag tag-1">
        <a href="/blog/tags/2010/">2010</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/2011/">2011</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/2012/">2012</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/ajocado/">ajocado</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/android/">android</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/announcement/">announcement</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/as7/">as7</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/awards/">awards</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/best-practice/">best-practice</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/byteman/">byteman</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/cdi/">cdi</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/community/">community</a>
      </span>
      <span class="tag tag-3">
        <a href="/blog/tags/container-adapter/">container-adapter</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/contributors/">contributors</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/core/">core</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/dependencies/">dependencies</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/docs/">docs</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/drone/">drone</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/event/">event</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/examples/">examples</a>
      </span>
      <span class="tag tag-3">
        <a href="/blog/tags/extension/">extension</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/forge/">forge</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/glassfish/">glassfish</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/graphene/">graphene</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/gsoc/">gsoc</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/guides/">guides</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/hackfest/">hackfest</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/jacoco/">jacoco</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/javaone/">javaone</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/jboss/">jboss</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/jbossas/">jbossas</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/jbosscentral/">jbosscentral</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/jbossworld/">jbossworld</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/jetty/">jetty</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/jpa/">jpa</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/judcon/">judcon</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/maven/">maven</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/migration/">migration</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/mission/">mission</a>
      </span>
      <span class="tag tag-2">
        <a href="/blog/tags/nonrelease/">nonrelease</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/openejb/">openejb</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/openshift/">openshift</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/openwebbeans/">openwebbeans</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/osgi/">osgi</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/performance/">performance</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/persistence/">persistence</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/photos/">photos</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/platform/">platform</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/plugin/">plugin</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/portal/">portal</a>
      </span>
      <span class="tag tag-6">
        <a href="/blog/tags/release/">release</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/roadmap/">roadmap</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/seam2/">seam2</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/spock/">spock</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/spring/">spring</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/stats/">stats</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/test-runner/">test-runner</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/testing/">testing</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/tip/">tip</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/tomcat/">tomcat</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/tool-plugin/">tool-plugin</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/video/">video</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/warp/">warp</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/website/">website</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/weld/">weld</a>
      </span>
      <span class="tag tag-1">
        <a href="/blog/tags/wls/">wls</a>
      </span>
      <span class="tag tag-0">
        <a href="/blog/tags/wrapup/">wrapup</a>
      </span>
    </div>
  </nav>
</aside>
  </div>
</div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/arquillian_logo_200px.png" />
          <p class="bottom">
            &#169;
            Copyright 2009-2012 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://awestruct.org">Awestruct</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/invasion">Mission</a>
            </li>
            <li>
              <a href="/features">Features</a>
            </li>
            <li>
              <a href="/guides">Guides</a>
            </li>
            <li>
              <a href="https://docs.jboss.org/author/display/ARQ/Reference+Guide">Manual</a>
            </li>
            <li>
              <a href="http://community.jboss.org/en/arquillian/faq">FAQs</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
            <li>
              <a href="http://community.jboss.org/en/arquillian?view=discussions">Forums</a>
            </li>
            <li>
              <a href="https://issues.jboss.org/browse/ARQ">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/arquillian">Source Code</a>
            </li>
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
            <li>
              <a href="https://community.jboss.org/groups/testing">Testing SIG</a>
            </li>
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow Arquillian on Google+" /></a>
              </li>
              <li>
                <a href="https://twitter.com/#!/search/%23arquillian"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #arquillian hashtag on Twitter" /></a>
              </li>
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the Arquillian group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/arquillian"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the Arquillian channel on Vimeo" /></a>
              </li>
            </ul>
          </div>
          <p>This website is open source! You can also <a href="http://www.seethestats.com/site/arquillian.org">see the stats</a>. If you want to help, <a href="http://github.com/arquillian/arquillian.github.com">fork the project</a> and hack on it.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>Arquillian is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js"></script>
  </body>
</html>
